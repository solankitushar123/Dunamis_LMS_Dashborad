import React, { useState, useEffect } from "react";

// -------- SIMULATED BACKEND DATA --------
const studentJoiningDate = new Date("2025-01-10");

// Helper to get assignments every 3 months from join
function getAssignments(fromDate) {
  const arr = [];
  let date = new Date(fromDate);
  for (let i = 0; i < 2; ++i) {
    let due = new Date(date.getTime());
    due.setMonth(due.getMonth() + i * 3);
    arr.push({
      id: i + 1,
      course: i === 0 ? "Keyboard Fundamentals" : "Bharatnatyam for Beginners",
      subject: i === 0 ? "Music" : "Dance",
      status: i === 0 ? "due" : "completed",
      dueDate: due,
    });
  }
  return arr;
}

export default function AssignmentsMain() {
  const [assignments, setAssignments] = useState([]);
  useEffect(() => {
    setAssignments(getAssignments(studentJoiningDate));
  }, []);

  // Assignment counts
  const total = assignments.length;
  const completed = assignments.filter((a) => a.status === "completed").length;
  const pending = assignments.filter((a) => a.status === "due").length;

  // Formatting helpers
  const formatDueDate = (d) => {
    const now = new Date();
    if (d.toDateString() === now.toDateString()) {
      return `11:59 PM, Today`;
    }
    return d.toLocaleDateString("en-GB", {
      day: "2-digit",
      month: "short",
      year: "numeric",
    });
  };

  return (
    <main className="flex-1 px-4 sm:px-8 py-7 bg-[#fafafa] min-h-screen max-w-[1280px] mx-auto">
      {/* Breadcrumb and Header */}
      <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 sm:gap-0">
        <div>
          <div className="text-xs text-[#6e6e6e] font-medium mb-1 flex items-center gap-1 normal-text">
            <span>Home</span>
            <span>/</span>
            <span className="text-black">Assignments</span>
          </div>
          <h1 className="bold-title text-black text-2xl sm:text-3xl">Assignments</h1>
        </div>
        <div className="flex items-center gap-3 w-full sm:w-auto">
          <input
            className="flex-1 sm:flex-none bg-white border border-[#ECEAEC] rounded-full px-4 py-2 text-sm normal-text focus:outline-none focus:ring-2 focus:ring-[#4537c3]"
            placeholder="Search"
            type="search"
          />
          <div className="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center font-medium text-base text-black flex-shrink-0">
            AK
          </div>
        </div>
      </div>

      {/* Assignment Stats */}
      <div className="grid grid-cols-1 sm:grid-cols-3 gap-5 mb-6">
        <div className="bg-[#F4E7FD] px-6 sm:px-7 py-5 rounded-xl flex flex-col items-start">
          <div className="text-xs font-medium text-[#7d7d7d] mb-1 normal-text">
            Total Assignments
          </div>
          <div className="bold-title text-black text-xl sm:text-2xl">{total}</div>
        </div>
        <div className="bg-[#F4E7FD] px-6 sm:px-7 py-5 rounded-xl flex flex-col items-start">
          <div className="text-xs font-medium text-[#7d7d7d] mb-1 normal-text">
            Pending Assignments
          </div>
          <div className="bold-title text-black text-xl sm:text-2xl">{pending}</div>
        </div>
        <div className="bg-[#F4E7FD] px-6 sm:px-7 py-5 rounded-xl flex flex-col items-start">
          <div className="text-xs font-medium text-[#7d7d7d] mb-1 normal-text">
            Completed Assignments
          </div>
          <div className="bold-title text-black text-xl sm:text-2xl">{completed}</div>
        </div>
      </div>

      {/* Search bar */}
      <div className="mb-6 flex flex-col sm:flex-row items-center gap-3 sm:gap-2">
        <input
          type="text"
          placeholder="Search"
          className="border border-[#ECEAEC] rounded-full px-5 py-2 text-sm w-full sm:w-72 bg-[#fafafa] normal-text focus:outline-none focus:ring-2 focus:ring-[#4537c3]"
        />
        <button className="inline-flex items-center border border-[#ECEAEC] px-4 sm:px-3 py-2 rounded-lg text-base hover:bg-[#f5f5f5] transition w-full sm:w-auto justify-center gap-1">
          <svg className="w-4 h-4" fill="none" viewBox="0 0 20 20" stroke="#666" strokeWidth="1.5" strokeLinecap="round">
            <path d="M3 6h14M5 10h10m-7 4h4" />
          </svg>
          <svg className="w-4 h-4" fill="none" viewBox="0 0 20 20" stroke="#666" strokeWidth="1.5" strokeLinecap="round">
            <path d="M4 14l4-4 4 4" />
          </svg>
        </button>
      </div>

      {/* Assignments List */}
      <section className="space-y-4">
        {assignments.map((a) =>
          a.status === "due" ? (
            <div
              key={a.id}
              className="flex flex-col sm:flex-row sm:items-center justify-between border border-[#ECEAEC] bg-white rounded-2xl px-5 py-4 gap-4 sm:gap-0"
            >
              <div className="flex-1 min-w-0">
                <div className="flex items-center mb-1 flex-wrap gap-2">
                  <span className="flex items-center justify-center w-7 h-7 bg-[#FF6F61] rounded-lg shrink-0">
                    <svg
                      width="18"
                      height="15"
                      viewBox="0 0 18 15"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.875 0.625H2.125C1.79348 0.625 1.47554 0.756696 1.24112 0.991116C1.0067 1.22554 0.875 1.54348 0.875 1.875V14.375C0.874924 14.4816 0.902109 14.5864 0.953972 14.6796C1.00584 14.7727 1.08065 14.851 1.17131 14.907C1.26197 14.9631 1.36546 14.995 1.47195 14.9998C1.57843 15.0046 1.68437 14.9821 1.77969 14.9344L4 13.8234L6.22031 14.9344C6.30714 14.9778 6.4029 15.0004 6.5 15.0004C6.5971 15.0004 6.69286 14.9778 6.77969 14.9344L9 13.8234L11.2203 14.9344C11.3071 14.9778 11.4029 15.0004 11.5 15.0004C11.5971 15.0004 11.6929 14.9778 11.7797 14.9344L14 13.8234L16.2203 14.9344C16.3156 14.9821 16.4216 15.0046 16.5281 14.9998C16.6345 14.995 16.738 14.9631 16.8287 14.907C16.9193 14.851 16.9942 14.7727 17.046 14.6796C17.0979 14.5864 17.1251 14.4816 17.125 14.375V1.875C17.125 1.54348 16.9933 1.22554 16.7589 0.991116C16.5245 0.756696 16.2065 0.625 15.875 0.625ZM15.875 13.3641L14.2797 12.5656C14.1929 12.5222 14.0971 12.4996 14 12.4996C13.9029 12.4996 13.8071 12.5222 13.7203 12.5656L11.5 13.6766L9.27969 12.5656C9.19286 12.5222 9.0971 12.4996 9 12.4996C8.9029 12.4996 8.80714 12.5222 8.72031 12.5656L6.5 13.6766L4.27969 12.5656C4.19286 12.5222 4.0971 12.4996 4 12.4996C3.9029 12.4996 3.80714 12.5222 3.72031 12.5656L2.125 13.3641V1.875H15.875V13.3641ZM3.72031 10.5594C3.79376 10.5962 3.87374 10.6181 3.95567 10.624C4.03761 10.6298 4.11989 10.6194 4.19782 10.5935C4.27575 10.5675 4.34779 10.5264 4.40983 10.4726C4.47187 10.4187 4.52269 10.3532 4.55938 10.2797L5.01094 9.375H7.98906L8.44062 10.2797C8.47735 10.3531 8.52819 10.4186 8.59024 10.4725C8.65228 10.5263 8.72432 10.5673 8.80223 10.5933C8.88015 10.6193 8.96241 10.6296 9.04433 10.6238C9.12626 10.618 9.20623 10.5961 9.27969 10.5594C9.35315 10.5226 9.41865 10.4718 9.47246 10.4098C9.52627 10.3477 9.56734 10.2757 9.59331 10.1978C9.61928 10.1199 9.62965 10.0376 9.62383 9.95567C9.618 9.87374 9.5961 9.79377 9.55938 9.72031L7.05938 4.72031C7.00754 4.61631 6.92773 4.52881 6.82892 4.46766C6.73011 4.4065 6.61621 4.3741 6.5 4.3741C6.38379 4.3741 6.26989 4.4065 6.17108 4.46766C6.07227 4.52881 5.99246 4.61631 5.94062 4.72031L3.44063 9.72031C3.40384 9.79376 3.3819 9.87374 3.37605 9.95567C3.3702 10.0376 3.38056 10.1199 3.40654 10.1978C3.43251 10.2758 3.4736 10.3478 3.52744 10.4098C3.58128 10.4719 3.64682 10.5227 3.72031 10.5594ZM6.5 6.39766L7.36406 8.125H5.63594L6.5 6.39766ZM9.625 7.5C9.625 7.33424 9.69085 7.17527 9.80806 7.05806C9.92527 6.94085 10.0842 6.875 10.25 6.875H11.5V5.625C11.5 5.45924 11.5658 5.30027 11.6831 5.18306C11.8003 5.06585 11.9592 5 12.125 5C12.2908 5 12.4497 5.06585 12.5669 5.18306C12.6842 5.30027 12.75 5.45924 12.75 5.625V6.875H14C14.1658 6.875 14.3247 6.94085 14.4419 7.05806C14.5592 7.17527 14.625 7.33424 14.625 7.5C14.625 7.66576 14.5592 7.82473 14.4419 7.94194C14.3247 8.05915 14.1658 8.125 14 8.125H12.75V9.375C12.75 9.54076 12.6842 9.69973 12.5669 9.81694C12.4497 9.93415 12.2908 10 12.125 10C11.9592 10 11.8003 9.93415 11.6831 9.81694C11.5658 9.69973 11.5 9.54076 11.5 9.375V8.125H10.25C10.0842 8.125 9.92527 8.05915 9.80806 7.94194C9.69085 7.82473 9.625 7.66576 9.625 7.5Z"
                        fill="white"
                      />
                    </svg>
                  </span>
                  <span className="bold-title text-black">Assignment Due</span>
                </div>
                <span className="inline-flex items-center gap-2 bg-[#DDF4FA] text-black text-base rounded-full px-4 py-1 w-fit font-normal max-w-[100%] truncate">
                  <svg
                    width="11"
                    height="11"
                    viewBox="0 0 11 11"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    className="mr-1 flex-shrink-0"
                  >
                    <path
                      d="M9.98063 0.829227C9.93571 0.794225 9.8834 0.769914 9.82769 0.758137C9.77197 0.74636 9.71431 0.747427 9.65906 0.761258L3.65906 2.26126C3.57794 2.28154 3.50592 2.32835 3.45445 2.39426C3.40298 2.46016 3.37502 2.54138 3.375 2.62501V7.78501C3.06217 7.57599 2.68847 7.47751 2.31326 7.50521C1.93805 7.53291 1.58286 7.6852 1.30411 7.93789C1.02537 8.19058 0.839069 8.52918 0.774803 8.89988C0.710538 9.27058 0.771996 9.65213 0.949414 9.9839C1.12683 10.3157 1.41003 10.5786 1.75402 10.731C2.09801 10.8834 2.48306 10.9165 2.84799 10.8249C3.21292 10.7334 3.5368 10.5226 3.76817 10.2259C3.99955 9.92923 4.12514 9.56374 4.125 9.18751V2.91798L9.375 1.60548V6.28501C9.06217 6.07599 8.68847 5.97751 8.31326 6.00521C7.93805 6.03291 7.58286 6.1852 7.30412 6.43789C7.02537 6.69058 6.83907 7.02918 6.7748 7.39988C6.71054 7.77058 6.772 8.15213 6.94941 8.4839C7.12683 8.81567 7.41003 9.07864 7.75402 9.23102C8.09801 9.3834 8.48306 9.41646 8.84799 9.32494C9.21292 9.23342 9.5368 9.02258 9.76817 8.7259C9.99955 8.42923 10.1251 8.06374 10.125 7.68751V1.12501C10.125 1.06797 10.112 1.01169 10.087 0.960431C10.062 0.909176 10.0256 0.864303 9.98063 0.829227Z"
                      fill="black"
                    />
                  </svg>
                  {a.subject}
                </span>
                <div
                  className="bold-title text-black mb-1 truncate"
                  style={{ fontSize: "16px" }}
                  title={`${a.course} : Video Submission`}
                >
                  {a.course} : Video Submission
                </div>
                <div className="normal-text text-black/40 truncate" title="Assignment Details">
                  Assignment Details
                </div>
              </div>
              <div className="flex flex-col items-end min-w-[130px] flex-shrink-0">
                <span className="text-xs text-black/40 mb-2 normal-text whitespace-nowrap">
                  {formatDueDate(a.dueDate)}
                </span>
                <button
                  className="bg-[#262626] text-white rounded-full px-5 py-1 bold-title flex items-center gap-2 hover:bg-black transition text-sm sm:text-base"
                  style={{ fontSize: "16px" }}
                >
                  <svg
                    width="16"
                    height="17"
                    viewBox="0 0 16 17"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M14 9.5V13.5C14 13.6326 13.9473 13.7598 13.8536 13.8535C13.7598 13.9473 13.6326 14 13.5 14H2.5C2.36739 14 2.24021 13.9473 2.14645 13.8535C2.05268 13.7598 2 13.6326 2 13.5V9.5C2 9.36739 2.05268 9.24021 2.14645 9.14644C2.24021 9.05267 2.36739 9 2.5 9C2.63261 9 2.75979 9.05267 2.85355 9.14644C2.94732 9.24021 3 9.36739 3 9.5V13H13V9.5C13 9.36739 13.0527 9.24021 13.1464 9.14644C13.2402 9.05267 13.3674 9 13.5 9C13.6326 9 13.7598 9.05267 13.8536 9.14644C13.9473 9.24021 14 9.36739 14 9.5ZM5.85375 5.35375L7.5 3.70687V9.5C7.5 9.63261 7.55268 9.75978 7.64645 9.85355C7.74021 9.94732 7.86739 10 8 10C8.13261 10 8.25979 9.94732 8.35355 9.85355C8.44732 9.75978 8.5 9.63261 8.5 9.5V3.70687L10.1462 5.35375C10.2401 5.44757 10.3673 5.50027 10.5 5.50027C10.6327 5.50027 10.7599 5.44757 10.8538 5.35375C10.9476 5.25993 11.0003 5.13268 11.0003 5C11.0003 4.86731 10.9476 4.74007 10.8538 4.64625L8.35375 2.14625C8.30731 2.09976 8.25217 2.06288 8.19147 2.03772C8.13077 2.01255 8.06571 1.9996 8 1.9996C7.93429 1.9996 7.86923 2.01255 7.80853 2.03772C7.74783 2.06288 7.69269 2.09976 7.64625 2.14625L5.14625 4.64625C5.05243 4.74007 4.99972 4.86731 4.99972 5C4.99972 5.13268 5.05243 5.25993 5.14625 5.35375C5.24007 5.44757 5.36732 5.50027 5.5 5.50027C5.63268 5.50027 5.75993 5.44757 5.85375 5.35375Z"
                      fill="white"
                    />
                  </svg>
                  Upload
                </button>
              </div>
            </div>
          ) : (
            <div
              key={a.id}
              className="flex flex-col sm:flex-row sm:items-center justify-between border border-[#ECEAEC] bg-white rounded-2xl px-5 py-4 gap-4 sm:gap-0"
            >
              <div className="flex-1 min-w-0">
                <div className="flex items-center mb-1 flex-wrap gap-2">
                  <span className="flex items-center justify-center w-7 h-7 bg-[#36A37E] rounded-lg shrink-0">
                    <svg
                      width="18"
                      height="15"
                      viewBox="0 0 18 15"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.875 0.625H2.125C1.79348 0.625 1.47554 0.756696 1.24112 0.991116C1.0067 1.22554 0.875 1.54348 0.875 1.875V14.375C0.874924 14.4816 0.902109 14.5864 0.953972 14.6796C1.00584 14.7727 1.08065 14.851 1.17131 14.907C1.26197 14.9631 1.36546 14.995 1.47195 14.9998C1.57843 15.0046 1.68437 14.9821 1.77969 14.9344L4 13.8234L6.22031 14.9344C6.30714 14.9778 6.4029 15.0004 6.5 15.0004C6.5971 15.0004 6.69286 14.9778 6.77969 14.9344L9 13.8234L11.2203 14.9344C11.3071 14.9778 11.4029 15.0004 11.5 15.0004C11.5971 15.0004 11.6929 14.9778 11.7797 14.9344L14 13.8234L16.2203 14.9344C16.3156 14.9821 16.4216 15.0046 16.5281 14.9998C16.6345 14.995 16.738 14.9631 16.8287 14.907C16.9193 14.851 16.9942 14.7727 17.046 14.6796C17.0979 14.5864 17.1251 14.4816 17.125 14.375V1.875C17.125 1.54348 16.9933 1.22554 16.7589 0.991116C16.5245 0.756696 16.2065 0.625 15.875 0.625ZM15.875 13.3641L14.2797 12.5656C14.1929 12.5222 14.0971 12.4996 14 12.4996C13.9029 12.4996 13.8071 12.5222 13.7203 12.5656L11.5 13.6766L9.27969 12.5656C9.19286 12.5222 9.0971 12.4996 9 12.4996C8.9029 12.4996 8.80714 12.5222 8.72031 12.5656L6.5 13.6766L4.27969 12.5656C4.19286 12.5222 4.0971 12.4996 4 12.4996C3.9029 12.4996 3.80714 12.5222 3.72031 12.5656L2.125 13.3641V1.875H15.875V13.3641ZM3.72031 10.5594C3.79376 10.5962 3.87374 10.6181 3.95567 10.624C4.03761 10.6298 4.11989 10.6194 4.19782 10.5935C4.27575 10.5675 4.34779 10.5264 4.40983 10.4726C4.47187 10.4187 4.52269 10.3532 4.55938 10.2797L5.01094 9.375H7.98906L8.44062 10.2797C8.47735 10.3531 8.52819 10.4186 8.59024 10.4725C8.65228 10.5263 8.72432 10.5673 8.80223 10.5933C8.88015 10.6193 8.96241 10.6296 9.04433 10.6238C9.12626 10.618 9.20623 10.5961 9.27969 10.5594C9.35315 10.5226 9.41865 10.4718 9.47246 10.4098C9.52627 10.3477 9.56734 10.2757 9.59331 10.1978C9.61928 10.1199 9.62965 10.0376 9.62383 9.95567C9.618 9.87374 9.5961 9.79377 9.55938 9.72031L7.05938 4.72031C7.00754 4.61631 6.92773 4.52881 6.82892 4.46766C6.73011 4.4065 6.61621 4.3741 6.5 4.3741C6.38379 4.3741 6.26989 4.4065 6.17108 4.46766C6.07227 4.52881 5.99246 4.61631 5.94062 4.72031L3.44063 9.72031C3.40384 9.79376 3.3819 9.87374 3.37605 9.95567C3.3702 10.0376 3.38056 10.1199 3.40654 10.1978C3.43251 10.2758 3.4736 10.3478 3.52744 10.4098C3.58128 10.4719 3.64682 10.5227 3.72031 10.5594ZM6.5 6.39766L7.36406 8.125H5.63594L6.5 6.39766ZM9.625 7.5C9.625 7.33424 9.69085 7.17527 9.80806 7.05806C9.92527 6.94085 10.0842 6.875 10.25 6.875H11.5V5.625C11.5 5.45924 11.5658 5.30027 11.6831 5.18306C11.8003 5.06585 11.9592 5 12.125 5C12.2908 5 12.4497 5.06585 12.5669 5.18306C12.6842 5.30027 12.75 5.45924 12.75 5.625V6.875H14C14.1658 6.875 14.3247 6.94085 14.4419 7.05806C14.5592 7.17527 14.625 7.33424 14.625 7.5C14.625 7.66576 14.5592 7.82473 14.4419 7.94194C14.3247 8.05915 14.1658 8.125 14 8.125H12.75V9.375C12.75 9.54076 12.6842 9.69973 12.5669 9.81694C12.4497 9.93415 12.2908 10 12.125 10C11.9592 10 11.8003 9.93415 11.6831 9.81694C11.5658 9.69973 11.5 9.54076 11.5 9.375V8.125H10.25C10.0842 8.125 9.92527 8.05915 9.80806 7.94194C9.69085 7.82473 9.625 7.66576 9.625 7.5Z"
                        fill="white"
                      />
                    </svg>
                  </span>
                  <span className="bold-title text-black">Assignment Completed</span>
                </div>
                <span className="inline-flex items-center gap-2 bg-[#FFD36E80] text-black text-base rounded-full px-4 py-1 w-fit font-normal max-w-[100%] truncate">
                  <svg
                    width="10"
                    height="11"
                    viewBox="0 0 10 11"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    className="mr-1 flex-shrink-0"
                  >
                    <path
                      d="M4.66663 3.125C4.9633 3.125 5.25331 3.03703 5.49998 2.87221C5.74666 2.70738 5.93891 2.47312 6.05245 2.19903C6.16598 1.92494 6.19568 1.62334 6.1378 1.33237C6.07993 1.04139 5.93707 0.774119 5.72729 0.56434C5.51751 0.354562 5.25023 0.211701 4.95926 0.153823C4.66829 0.0959449 4.36669 0.12565 4.0926 0.239181C3.81851 0.352713 3.58424 0.544972 3.41942 0.791645C3.2546 1.03832 3.16663 1.32833 3.16663 1.625C3.16663 2.02283 3.32466 2.40436 3.60597 2.68566C3.88727 2.96697 4.2688 3.125 4.66663 3.125ZM4.66663 0.875001C4.81496 0.875001 4.95997 0.918988 5.0833 1.0014C5.20664 1.08381 5.30277 1.20094 5.35954 1.33799C5.4163 1.47503 5.43115 1.62583 5.40222 1.77132C5.37328 1.9168 5.30185 2.05044 5.19696 2.15533C5.09207 2.26022 4.95843 2.33165 4.81294 2.36059C4.66746 2.38953 4.51666 2.37468 4.37961 2.31791C4.24257 2.26114 4.12544 2.16502 4.04302 2.04168C3.96061 1.91834 3.91663 1.77334 3.91663 1.625C3.91663 1.42609 3.99564 1.23532 4.1363 1.09467C4.27695 0.954018 4.46771 0.875001 4.66663 0.875001ZM9.08413 4.18484C9.02207 4.26252 8.93172 4.31238 8.83292 4.32345C8.73412 4.33453 8.63496 4.30592 8.55725 4.24391C8.50335 4.20219 7.44584 3.41422 5.77663 4.2725C5.7635 4.74945 5.7165 5.22487 5.636 5.69516L7.15616 6.96078C7.21416 7.00907 7.25624 7.07374 7.2769 7.14634C7.29755 7.21893 7.29583 7.29606 7.27194 7.36766L6.52194 9.61766C6.49049 9.71202 6.42284 9.79002 6.33387 9.8345C6.24491 9.87898 6.14192 9.8863 6.04756 9.85485C5.95321 9.82339 5.87521 9.75574 5.83072 9.66678C5.78624 9.57782 5.77892 9.47483 5.81038 9.38047L6.47928 7.37328L5.44428 6.51078C5.37667 6.7388 5.29686 6.96303 5.20522 7.1825C4.56069 8.71719 3.40616 9.74328 1.77397 10.2331C1.67953 10.2591 1.57867 10.2471 1.49296 10.1997C1.40725 10.1523 1.34349 10.0732 1.31533 9.97941C1.28716 9.88559 1.29681 9.78448 1.34223 9.6977C1.38764 9.61091 1.46521 9.54534 1.55835 9.515C4.40272 8.66141 4.89303 6.12969 4.99991 4.75016C3.72913 5.55688 2.7246 5.75 2.0585 5.75C1.74473 5.75106 1.43302 5.69924 1.13647 5.59672C1.05714 5.56206 0.992255 5.50102 0.952811 5.42396C0.913366 5.3469 0.901798 5.25857 0.920069 5.17395C0.938339 5.08933 0.985323 5.01364 1.05305 4.95972C1.12077 4.9058 1.20507 4.87697 1.29163 4.87813C1.34523 4.87805 1.39819 4.88973 1.44678 4.91234C1.44678 4.91234 2.70116 5.41297 4.83069 3.96547C7.28178 2.29953 8.95569 3.60125 9.02647 3.6575C9.06489 3.68833 9.09687 3.72643 9.12056 3.76962C9.14425 3.81282 9.15921 3.86026 9.16456 3.90923C9.16991 3.9582 9.16557 4.00775 9.15177 4.05504C9.13796 4.10233 9.11498 4.14644 9.08413 4.18484Z"
                      fill="black"
                    />
                  </svg>
                  {a.subject}
                </span>
                <div
                  className="bold-title text-black mb-1 truncate"
                  style={{ fontSize: "16px" }}
                  title={`${a.course} : Video Submission`}
                >
                  {a.course} : Video Submission
                </div>
                <div className="normal-text text-black/40 truncate" title="Assignment Details">
                  Assignment Details
                </div>
              </div>
              <div className="flex flex-col items-end min-w-[130px] flex-shrink-0">
                <span className="text-xs text-black/40 mb-2 normal-text whitespace-nowrap">
                  Submitted on {formatDueDate(a.dueDate)}
                </span>
                <button
                  className="border border-black text-black bg-transparent rounded-full px-5 py-1 bold-title flex items-center gap-2 hover:bg-[#f5f5f5] transition text-sm sm:text-base"
                  style={{ fontSize: "16px" }}
                >
                  {/* Eye/view icon inside the button, left of text */}
                  <svg
                    width="16"
                    height="11"
                    viewBox="0 0 16 11"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.4569 5.2975C15.435 5.24813 14.9056 4.07375 13.7287 2.89687C12.1606 1.32875 10.18 0.5 7.99999 0.5C5.81999 0.5 3.83937 1.32875 2.27124 2.89687C1.09437 4.07375 0.562494 5.25 0.543119 5.2975C0.51469 5.36144 0.5 5.43064 0.5 5.50062C0.5 5.5706 0.51469 5.6398 0.543119 5.70375C0.564994 5.75312 1.09437 6.92688 2.27124 8.10375C3.83937 9.67125 5.81999 10.5 7.99999 10.5C10.18 10.5 12.1606 9.67125 13.7287 8.10375C14.9056 6.92688 15.435 5.75312 15.4569 5.70375C15.4853 5.6398 15.5 5.5706 15.5 5.50062C15.5 5.43064 15.4853 5.36144 15.4569 5.2975ZM7.99999 9.5C6.07624 9.5 4.39562 8.80062 3.00437 7.42188C2.43352 6.85418 1.94786 6.20685 1.56249 5.5C1.94776 4.79309 2.43343 4.14574 3.00437 3.57812C4.39562 2.19938 6.07624 1.5 7.99999 1.5C9.92374 1.5 11.6044 2.19938 12.9956 3.57812C13.5676 4.1456 14.0543 4.79295 14.4406 5.5C13.99 6.34125 12.0269 9.5 7.99999 9.5ZM7.99999 2.5C7.40665 2.5 6.82663 2.67595 6.33328 3.00559C5.83994 3.33524 5.45542 3.80377 5.22835 4.35195C5.00129 4.90013 4.94188 5.50333 5.05764 6.08527C5.17339 6.66721 5.45912 7.20176 5.87867 7.62132C6.29823 8.04088 6.83278 8.3266 7.41472 8.44236C7.99667 8.55811 8.59987 8.4987 9.14804 8.27164C9.69622 8.04458 10.1648 7.66006 10.4944 7.16671C10.824 6.67336 11 6.09334 11 5.5C10.9992 4.7046 10.6828 3.94202 10.1204 3.37959C9.55797 2.81716 8.79539 2.50083 7.99999 2.5ZM7.99999 7.5C7.60443 7.5 7.21775 7.3827 6.88885 7.16294C6.55996 6.94318 6.30361 6.63082 6.15223 6.26537C6.00086 5.89991 5.96125 5.49778 6.03842 5.10982C6.11559 4.72186 6.30607 4.36549 6.58578 4.08579C6.86548 3.80608 7.22185 3.6156 7.60981 3.53843C7.99778 3.46126 8.39991 3.50087 8.76536 3.65224C9.13081 3.80362 9.44317 4.05996 9.66293 4.38886C9.8827 4.71776 9.99999 5.10444 9.99999 5.5C9.99999 6.03043 9.78928 6.53914 9.41421 6.91421C9.03913 7.28929 8.53043 7.5 7.99999 7.5Z"
                      fill="black"
                    />
                  </svg>
                  View
                </button>
              </div>
            </div>
          )
        )}
      </section>
    </main>
  );
}
